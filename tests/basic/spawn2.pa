//
// C++-only sample implementation of a result thread.
//
#include <iostream>

using namespace std;
using namespace plasma;

double foo(double a,double b)
{
  for (int i = 0; i != 100000000; ++i) {
    int xx = 10;
  }
  return a*a + b*b;
}

double pi()
{
  return 3.14159;
}

int pMain(int argc,const char *argv[])
{ 
  Result<double> result1 = spawn(foo(1.1,2.2));
  Result<double> result2 = spawn(foo(2.7,9.8));
  Result<double> result3 = spawn(foo(100.45,3.59));
  Result<double> result4 = spawn(pi());
  cout << "Result is:  " << result1.value() << ", " << result2.value() << ", " << result3.value() << ", " << result4.value() << endl;
  return 0;
}
